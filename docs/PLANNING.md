# 버스 시간표 웹 프로젝트 기획서

## 1. 프로젝트 개요

### 1.1 문제 정의

현재 버스 시간표는 이미지(사진) 형태로 제공되어 다음과 같은 불편함이 있음:

- **다단계 탐색 필요**: 평일/주말·공휴일/방학 → 왕편/복편 → 시간 탐색
- **수동 탐색**: 사람이 눈으로 직접 시간표를 찾아야 함
- **시간 소요**: 원하는 버스 시간을 찾는 데 불필요한 시간 낭비

### 1.2 목표

| 목표 | 설명 |
|------|------|
| 조건 선택 | 사용자는 날짜 유형, 방향만 선택 |
| 스마트 필터링 | 현재 시간 기준 ±3시간 시간표 우선 표시 |
| 즉시 결과 | 필터링된 시간표 즉시 표시 |
| 전체 시간표 | 탭으로 전체 시간표 확인 가능 |
| 지금 출발 가능 | 현재 시간 이후 버스만 보기 옵션 |
| 즐겨찾기 | 자주 이용하는 시간 저장 |
| 확장성 | 노선 추가 시 JSON 수정만으로 가능 |

---

## 2. 기능 정의

### 2.1 핵심 기능

#### (1) 조건 선택기
- **날짜 유형**: 평일 / 주말·공휴일 / 방학
- **방향**: 왕편(출발) / 복편(복귀)
- **노선 선택**: (확장 시) 여러 노선 지원

#### (2) 시간표 표시
- **기본 뷰**: 현재 시간 기준 ±3시간 시간표
- **전체 뷰**: 탭 전환으로 전체 시간표 확인
- **하이라이트**: 가장 가까운 출발 시간 강조

#### (3) 필터 옵션
- **지금 출발 가능**: 현재 시간 이후 버스만 표시
- **시간대 지정**: 원하는 시간대 직접 지정

#### (4) 즐겨찾기
- 자주 이용하는 시간 로컬 저장
- 빠른 접근 가능

### 2.2 부가 기능

- 오늘 날짜 기준 자동 조건 선택 (평일/주말 자동 판별)
- 다크모드 지원 (선택적)
- PWA 지원으로 모바일 홈 화면 추가 가능

---

## 3. 프로젝트 구조

```
bus/
├── index.html              # 메인 HTML
├── css/
│   └── style.css           # 스타일시트
├── js/
│   ├── app.js              # 메인 앱 로직
│   ├── schedule.js         # 시간표 처리 모듈
│   ├── filter.js           # 필터링 로직
│   ├── favorites.js        # 즐겨찾기 기능
│   └── utils.js            # 유틸리티 함수
├── data/
│   └── schedules.json      # 버스 시간표 데이터
├── docs/
│   └── PLANNING.md         # 기획서 (본 문서)
└── README.md               # 프로젝트 설명
```

---

## 4. 데이터 구조

### 4.1 schedules.json 형식

```json
{
  "routes": [
    {
      "id": "route1",
      "name": "노선명",
      "schedules": {
        "weekday": {
          "outbound": ["06:00", "06:30", "07:00", ...],
          "inbound": ["18:00", "18:30", "19:00", ...]
        },
        "weekend": {
          "outbound": ["07:00", "08:00", ...],
          "inbound": ["17:00", "18:00", ...]
        },
        "vacation": {
          "outbound": ["08:00", "09:00", ...],
          "inbound": ["16:00", "17:00", ...]
        }
      }
    }
  ],
  "meta": {
    "lastUpdated": "2026-01-30",
    "vacationPeriods": [
      { "start": "2026-07-01", "end": "2026-08-31" },
      { "start": "2026-12-20", "end": "2027-02-28" }
    ]
  }
}
```

### 4.2 즐겨찾기 (LocalStorage)

```json
{
  "favorites": [
    {
      "route": "route1",
      "type": "weekday",
      "direction": "outbound",
      "time": "08:30"
    }
  ]
}
```

---

## 5. 화면 구성 (와이어프레임)

### 5.1 기본 화면 구조

- **상단 고정**: 조건 선택기 (날짜 유형 + 방향 + 필터 옵션)
- **하단 영역**: 시간표 표시 영역
- **기본 뷰**: 첫 화면에서 **전체 시간표**가 바로 표시됨

### 5.2 와이어프레임

```
┌─────────────────────────────────────────┐
│           🚌 버스 시간표                  │
├─────────────────────────────────────────┤
│ [상단 조건 선택 영역 - 항상 고정]         │
│                                          │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐    │
│  │  평일   │ │주말/공휴│ │  방학   │    │
│  └─────────┘ └─────────┘ └─────────┘    │
│                                          │
│  ┌─────────────┐ ┌─────────────┐        │
│  │    왕편     │ │    복편     │        │
│  └─────────────┘ └─────────────┘        │
│                                          │
│  ☑ 지금 출발 가능한 버스만               │
│  ☐ 현재 시간 ±3시간만 보기               │
├─────────────────────────────────────────┤
│ [시간표 영역 - 스크롤 가능]               │
│                                          │
│    ⏰ 06:00                              │
│    ⏰ 06:30                              │
│    ⏰ 07:00                              │
│    ⏰ 07:30                              │
│    ...                                   │
│    ⏰ 14:30  ← 현재 시간 근접 (하이라이트) │
│    ⏰ 15:00  ★ 즐겨찾기                  │
│    ⏰ 15:30                              │
│    ...                                   │
│    ⏰ 22:00                              │
│    ⏰ 22:30                              │
│                                          │
└─────────────────────────────────────────┘
```

### 5.3 동작 방식

1. **페이지 로드 시**: 오늘 날짜 기준(평일/주말) 자동 선택 + 왕편 기본 선택 + **전체 시간표 표시**
2. **조건 변경 시**: 선택한 조건에 맞는 전체 시간표 즉시 표시
3. **필터 체크 시**: 조건에 맞게 시간표 필터링
4. **현재 시간 근접**: 가장 가까운 출발 시간으로 자동 스크롤 + 하이라이트

---

## 6. 기술 스택

| 구분 | 기술 | 이유 |
|------|------|------|
| 마크업 | HTML5 | 표준 |
| 스타일 | CSS3 | 간단한 스타일링 |
| 로직 | Vanilla JavaScript | 빌드 도구 불필요, 가벼움 |
| 데이터 | JSON | 수정 용이, 확장성 |
| 저장소 | LocalStorage | 즐겨찾기 로컬 저장 |

> **참고**: 디자인보다 기능에 집중하므로 프레임워크 없이 순수 JavaScript로 구현

---

## 7. 개발 우선순위

### Phase 1: MVP (최소 기능 제품)
1. [x] 프로젝트 구조 생성
2. [ ] JSON 데이터 구조 설계 및 샘플 데이터 입력
3. [ ] 조건 선택 UI (날짜 유형, 방향)
4. [ ] 시간표 표시 (전체)
5. [ ] 현재 시간 기준 ±3시간 필터링

### Phase 2: 편의 기능
6. [ ] 지금 출발 가능 버스 필터
7. [ ] 가장 가까운 출발 시간 하이라이트
8. [ ] 평일/주말 자동 판별

### Phase 3: 고급 기능
9. [ ] 즐겨찾기 저장/로드
10. [ ] 방학 기간 자동 판별
11. [ ] 다중 노선 지원

---

## 8. 확장 고려사항

### 노선 추가 방법
1. `data/schedules.json` 파일 열기
2. `routes` 배열에 새 노선 객체 추가
3. 시간표 데이터 입력

### 방학 기간 설정
1. `data/schedules.json`의 `meta.vacationPeriods` 수정
2. 시작일, 종료일 입력

---

## 9. 향후 발전 방향

- **PWA**: 오프라인 지원, 홈 화면 추가
- **알림**: 버스 출발 N분 전 알림 (Push Notification)
- **실시간 연동**: 실제 버스 API 연동 (가용 시)
- **다국어**: 영어 등 다국어 지원

---

## 부록: 용어 정의

| 용어 | 설명 |
|------|------|
| 왕편 | 출발지 → 목적지 방향 |
| 복편 | 목적지 → 출발지 방향 (복귀) |
| 평일 | 월~금 (공휴일 제외) |
| 주말/공휴일 | 토, 일, 법정 공휴일 |
| 방학 | 학교 방학 기간 (별도 시간표 운영) |
